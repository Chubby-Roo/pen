!function(e,t){let s;null==Object.prototype.inherit&&Object.defineProperty(Object.prototype,"inherit",{writeable:!1,value(e,...t){return this.prototype=Object.create(e.prototype),this.prototype.constructor=this,t.length>0&&Object.assign(this.prototype,...t),this}}),null==Map.prototype.array&&Object.defineProperty(Map.prototype,"array",{writeable:!0,value(){let e,t,s;for(e=this.entries(),t=e.next(),s=[];!t.done;)s.push(t.value),t=e.next();return s}}),null==Map.prototype.filter&&Object.defineProperty(Map.prototype,"filter",{writeable:!0,value(e){if("function"!=typeof flt)throw new TypeError("The 1st argument must be a function.");let t,s,r;for(t=this.entries(),s=t.next(),r=new Map;!s.done;){let n=e(s.value,s.key,this);n="boolean"==typeof n?!0===n?s.value:null:n,r.set(s.key,n),s=t.next()}return r}}),null==Map.prototype.map&&Object.defineProperty(Map.prototype,"map",{writeable:!0,value(e){if("function"!=typeof flt)throw new TypeError("The 1st argument must be a function.");let t,s,r;for(t=this.entries(),s=t.next(),r=new Map;!s.done;){let n=e(s.value,s.key,this);r.set(s.key,n),s=t.next()}}}),s=function(e,t={}){return this instanceof s?e instanceof s?e:(this.el=e,s.start.call(this)):new s(e,t)},s.cc=e=>e.replace(/[_\- ](\w)/g,(e,t)=>t.toUpperCase()),s.slice=e=>[].slice.call(e),s.pipeline=(e,t=!1,...r)=>{for(let n of r)e="string"===s.type(n)?(t?s:window)[n](e):n(e);return e},s.type=function(){let e={};return["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null","Error","Symbol","Promise","NamedNodeMap","Map","NodeList","DOMTokenList","DOMStringMap","CSSStyleDeclaration"].forEach(t=>{e[`[object ${t}]`]=t.toLowerCase()}),(t,s)=>{let r=e[{}.toString.call(t)]||"object";return null!=s?r===s:r}}(),s.empty=e=>{switch(s.type(e)){case"array":case"string":return 0===e.length;case"object":if(null!=Object.keys)return 0===Object.keys(e).length&&e.constructor===Object;for(let t in e)if(e.hasOwnProperty(t))return!1;return"{}"===JSON.stringify(e);case"regexp":return 0===e.source.length;default:console.error("Unknown type || cannot calculate size")}},s.random=e=>e[Math.floor(Math.random()*e.length)],s.check=(e,t="gi")=>"string"===s.type(e)?new RegExp(e,t):e,s.parse=e=>{let t,r;return t={},r=e.match(/([^\n ]*?)=(['"]([^\n'"]*?)['"]|(true|false|yes|no))/gi),null==r||s.empty(r)?null:(r.forEach(e=>{if(e.includes("=")){let s=e.search(/=/);t[e.substr(0,s)]=e.substr(s+1).replace(/["']/g,"")}}),s.empty(t)?null:t)},s.insOf=function(e){return e instanceof s},s.fracture=function(e,t,r){let n,i,l=s.type(this.el[e]);for(i in t)n=null!=r?`${r}-${i}`:i,s.type(t[i],"object")?s.fracture.call(this,e,t[i],n):"function"===l?this.el[e](n,t[i]):this.el[e][n]=t[i];return this},s.parseEl=(e,t=!1)=>{if(t){let t=(new window.DOMParser).parseFromString(e,"text/html").body.children;return t=s.slice(t),t=1===t.length?t[0]:t,t}let r,n,i,l;return r=e.substr(e.search(/</),e.search(/>/)+1),n=r.substr(r.search(/</)+1,r.search(/<([^\n ]+)>/.test(r)?/>/:/ /)-1),i=r.substr(r.search(/ /)+1,r.search(/>/)),l=e.substr(r.length,e.search(/<\//)),i=i==="<"+n?null:i,l=l===r||s.empty(l)?null:l,{attrs:i,tag:n,text:l}},s.handoff=(e,t=!1)=>t?s(e):e,s.$=(e,r)=>"string"===s.type(e)?s.handoff(t.querySelector(e),r):e,s.$$=(e,r)=>"string"!==s.type(e)?s.handoff(e,r):t.querySelectorAll(e).map(e=>s.handoff(e,r)),s.create=(e,r)=>s.handoff(t.createElement(e),r),s.all=(e,t,...s)=>(e.forEach(e=>{e[t](...s)}),this),s.inst=e=>e instanceof s?e.el:e,s.edso=function(e,t=!1,r=!1){return"function"===s.type(t)?{get:e,s:t,enumerable:r,changeable:!0}:{get:e,enumerable:t}},s.display=(e,t)=>{let r=s.$(e,!0);r.text=r.text.replace(/-([^\n]*?)-/g,(e,s)=>t[s])},s.mid=function(e,t,s=2,r=0){switch(!0){case e===t:case 0===s:return e;case 0===r:return e+t/2;case 1===r:default:return(e+t)/2}},s.start=function(){if("string"===s.type(this.el))if(this.el.includes("<")){let e=s.parseEl(this.el);if(this.el=s.create(e.tag),null!=e.attrs){let t=s.parse(e.attrs);null!=t&&this.attr(t)}null==e.text||s.empty(e.text)||this.html(e.text,{parse:!0})}else this.el=s.$(this.el);else this.el=s.$(this.el);if(null!=this.el){switch(this.el="template"===this.tag?this.el.content:this.el,this.cusOps={},!0){case this.el instanceof Document:Object.defineProperty(this,"ready",{value(){return this.on("DOMContentLoaded",...arguments),this}});break;case this.el instanceof Window:this.doc=this.el.doc;break;case"template"===this.tag:Object.defineProperty(this,"clone",{value(){return t.importNode(...arguments),this}});break;case"canvas"===this.tag:this.ctx=this.context=this.el.getContext("2d"),Object.defineProperties(this,{w:s.edso((function(){return this.el.width}),(function(e){this.el.width=e}),!0),h:s.edso((function(){return this.el.height}),(function(e){this.el.height=e}),!0),resize:{value(e,t){return e=e||0,t=t||e/2,this.w=e,this.h=t,this}}});break;case"form"===this.tag:Object.defineProperty(this,"inputvns",{get(){let e=this.el.elements,t={};return e.filter(e=>!s.empty(e.name)).forEach((e,r)=>{t[e.name+(null!=t[e.name]?r:"")]=e[s.empty(e.value)?"name":"value"]}),t},enumerable:!0});break;case"audio"===this.tag||"video"===this.tag:s.prototype.nsrc=function(e,t){let r=s("<source>").attr("src",e);if(null==t)switch(!0){case e.endsWith("mp3"):r.attr("type","audio/mpeg");break;case e.endsWith("ogg"):r.attr("type","audio/ogg")}return this.append(r),this},Object.defineProperties(this,{sources:s.edso((function(){return this.children.map(e=>e.attr("src"))}),!0),time:s.edso((function(){return this.el.currentTime}),(function(e){this.el.currentTime=e}),!0),duration:s.edso((function(){return this.el.duration}),!0),ended:s.edso((function(){return this.el.ended}),!0),looping:s.edso((function(){return this.el.loop}),(function(e){this.el.loop=e}),!0),speed:s.edso((function(){return this.el.playbackRate}),(function(e){this.el.playbackRate=e}),!0),preservePitch:s.edso((function(){return this.el.preservesPitch}),(function(e){this.el.preservesPitch=e}),!0),preload:s.edso((function(){return this.el.preload}),(function(e){this.el.preload=e}),!0),source:s.edso((function(){return this.el.currentSrc}),!0),volume:s.edso((function(){return this.el.volume}),(function(e){this.el.volume=e}),!0),paused:s.edso((function(){return this.el.paused}),!0),titles:s.edso((function(){return this.sources.map(e=>e.split("/").slice(-1)[0])}),!0),play:{value(){return this.paused?(this.el.play(),this):(console.warn("Already playing"),this)}},pause:{value(){return this.paused?(console.warn("Already paused"),this):(this.el.pause(),this)}},toggleA:{value(){return this[this.paused?"play":"pause"](),this}}})}return this}console.warn("Was not able to recieve data.")},s.ok=function(e){return 200===e||202===e},s.ajax=function(e){let t=new window.XMLHttpRequest;e.progress=null!=e.progress?e.progress:function(e){console.log(e.lengthComputable?e.loaded/e.total*100+"%":"Can't compute progress")},e.load=null!=e.load?e.load:function(e){console.log("Transfer complete.\n",e)},e.error=null!=e.error?e.error:function(e){console.log("An error has occurred\n"+e)},e.cancel=null!=e.cancel?e.cancel:function(e){console.log("The transfer was canceled\n"+e)},e.data=null!=e.data?e.data:{},e.type=null!=e.type?e.type:"GET",t.addEventListener("progress",e.progress),t.addEventListener("load",(function(t){s.ok(this.status,this.readyState)?e.load.call(this,this.response,t):(console.error("Status was faulty",this.status),e.staerr.call(this,this.response,t))})),t.addEventListener("error",e.error),t.addEventListener("abort",e.cancel),!0==(null!=e.progressUpld&&null!=e.loadUpld&&null!=e.errorUpld&&null!=e.cancelUpld)&&(t.upload.addEventListener("progress",e.progressUpld),t.upload.addEventListener("load",(function(t){s.ok(this.status,this.readyState)?e.loadUpld.call(this,this.response,t):(console.error("Status was faulty",this.status),e.staerr.call(this,this.response,t))})),t.upload.addEventListener("error",e.errorUpld),t.upload.addEventListener("abort",e.cancelUpld)),e.override&&t.overrideMimeType(e.override),e.typer&&(t.responseType=e.typer);let r=function(){if("string"===s.type(e.data))return e.data;if(s.empty(e.data))return e.url;{let t=[];for(let s in e.data)t.push(`${s}=${e.escape?window.escape(e.data[s]):e.data[s]}`);return"POST"===e.type?t.join("&"):e.url+"?"+t.join("&")}}();return t.open(e.type,"POST"===e.type?e.url:r,e.sync||!0,e.user||null,e.password||null),e.callback&&(t.callback=e.callback),e.fpath&&(t.filepath=e.fpath),e.hdr&&e.hdr.length>1&&t.setRequestHeader(...e.hdr),t.send("POST"===e.type?r:null),t},s.fn=s.prototype={constructor:s,toString(){return this.selector},get tag(){return(this.el.tagName||"UNPARSED-OR-IOS-ELEMENT").toLowerCase()},get hasShadow(){return null!=this.el.shadowRoot},get shadow(){return this.hasShadow?this.el.shadowRoot:null},get text(){return this.html()},set text(e){this.html(e)},get children(){return s.slice(this.el["form"===this.tag?"elements":"children"]).map(e=>s(e))},set children(e){if("array"!==s.type(e))throw new Error("Must be an array.");this.append(...e)},get offset(){return{left:this.el.offsetLeft,top:this.el.offsetTop,width:this.el.offsetWidth,height:this.el.offsetHeight}},get center(){return{x:this.offset.left+this.offset.width/2,y:this.offset.top+this.offset.height/2}},get selection(){return{start:this.el.selectionStart,end:this.el.selectionEnd}},set selection(e){this.el.setSelectionRange(...e)},get parent(){return this.el.parentNode||null},set parent(e){this.appendTo(e)},get data(){return this.el.dataset},get events(){return this.el.events},get classes(){return s.slice(this.el.classList)},get attrs(){let e={};return s.slice(this.el.attributes).forEach(t=>e[t.name]=t.value),e},set attrs(e){this.attr(e)},get selector(){let e,t=this.attrs,r="",n=null!=this.attr("id")?"#"+this.attr("id"):"",i=null!=this.attr("class")?"."+this.classes.join("."):"";for(e in t)/class|id|style/i.test(e)||(r+=`[${e}="${t[e]}"]`);return`${this.tag}${n}${i}${s.empty(r)?"":r}`},get size(){return this.el.getBoundingClientRect()},get hidden(){return"none"===this.css("display")},get ops(){return{parseIt:this.cusOps.parseIt||!1,app:this.cusOps.app||!1,parse:this.cusOps.parse||!1}},set ops(e){let t=null!=e;return this.cusOps={parseIt:t&&e.parseIt||!1,app:t&&e.app||!1,parse:t&&e.parse||!1},this.cusOps},get siblings(){return{next:this.el.nextSibling,previous:this.el.previousSibling}},shade(e){return console.warn("This function is not fully developed"),this},clone(e=!0,t){return s.handoff(this.el.cloneNode(e),t)},html(e,t){let r,n,i;if(({parse:r,app:n}=null==t?s.empty(this.cusOps)?this.ops:this.cusOps:t),i=/input|option|textarea/i.test(this.tag)?"value":r?"innerHTML":null!=this.el.textContent?"textContent":"innerText",s.pipeline(arguments,s.slice,s.empty))return this.el[i];{let t=n?this.el[i]+e:e;return this.el[i]=t,"option"===this.tag&&(this.el.innerHTML=this.el[i]),this}},attr(e,t){if(null==e)return this.attrs;switch(!0){case"object"===s.type(e):return s.fracture.call(this,"setAttribute",e);case"boolean"===s.type(t):return this.el.removeAttribute(e),this;case null!=t:return this.el.setAttribute(e,t),this;default:return this.el.getAttribute(e)}},css(e,t){if(null==e)return this.el.style;switch(!0){case"object"===s.type(e):return s.fracture.call(this,"style",e);case"boolean"===s.type(t):this.el.style[s.cc(e)]="";break;case null!=t:return this.el.style[s.cc(e)]=t,this;default:return this.el.style[e]}},on(e,t,s,r){return s=null!=s&&s,this.el.events=this.el.events||{},this.el.addEventListener(e,e=>{t.call(this,e,this)},s),this.el.events[e]={},this.el.events[e][null!=r?r:t.name||"func"]={cp:s,func:t},this},off(e,t,s){return this.el.removeEventListener(e,null!=t?this.el.events[e][t].func:s.name),delete this.el.events[e][null!=t?t:s.name||"func"],this},fire(e){return this.el.dispatchEvent(e)},insert(e,t,...r){t=t instanceof s?t:s(t);let n="string"===s.type(e)?"before"===e?t.el:t.siblings.next:e?t.el:t.siblings.next;return r.forEach(e=>{e=s.$(e),s.inst(e).parentNode!==this.el?t.parent.insertBefore(s.inst(e),n):console.warn(`(${e}) is already a child of ${this}`)}),this},append(...e){return e.forEach(e=>{e=s.$(e),s.inst(e).parentNode!==this.el?this.el.appendChild(s.inst(e)):console.warn(`(${e}) is already a child of ${this}`)}),this},appendTo(e){let t=e;return null==(e="string"===s.type(e)?s.$(e,!0):e)&&console.warn(t+" doesn't exist"),s(e).append(this),this},remove(){let e=s.slice(arguments);if("boolean"===s.type(e[0])){if(!e[0])return this;if(null==this.parent)return console.warn(this+", No parent"),this;this.parent.removeChild(this.el)}else{if(1===e.length&&"string"===s.type(e[0])&&"all"===e[0])return this.children.forEach(e=>{e.remove(!0)}),this;for(let t of e)switch(!0){case"object"===s.type(t)&&t instanceof s:t.remove(!0);break;case"object"===s.type(t)&&!(t instanceof s):t.parentNode.removeChild(this.el);break;default:if(t=s.$(t),null==t){console.warn(t+" Does not exist");continue}this.el.removeChild(s.inst(t))}}return this},$(e,t){let r=null!=t?t:this.ops.parseIt;return s.handoff(this.el.querySelector(e),r)},$$(e,t){let r;return r=null!=t?t:this.ops.parseIt,this.el.querySelectorAll(e).map(e=>s.handoff(e,r))},create(e,t){return e=s(e),this.append(e),"parent"===t?this:"child"===t?e:this},toggle(...e){return e.forEach(e=>{this.el.classList.toggle(e)}),this},hasClass(e){for(let t of this.classes)if(t===e)return!0;return!1}};let r=s;window.p=r,window.head=t.head,r.doc=r(t),r.win=r(e),r.head=r(t.head),t.body?(window.body=t.body,r.body=r(t.body)):t.addEventListener("DOMContentLoaded",()=>{window.body=t.body,r.body=r(t.body)},{once:!0})}(window,document);
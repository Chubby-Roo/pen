!function(){let e,n,t,l,r;l={},n=["p","span","div","a","button","input","h1","h2","h3","h4","h5","h6","hr","b","i","u","img","style","link","meta","br","table","tr","tb","li","ul","template","textarea","video"],e=["click","dblclick","error","mouseover","mousemove","mouseup","mousedown","keydown","keyup","keypress","load","mousein","mouseout","dragin","dragout","dragdrop","dragover"],t=["style","title","encoding","href","src","rel","target","cols","width","height","align","class","id","type","placeholder"].concat(e.map(e=>"on"+e)),e.forEach(e=>{null==p.fn[e]?(p.fn[e]=function(n,...t){return p.fn.on.call(this,e,n,...t)},p.fn[e].remove=function(n,...t){return p.fn.off.call(this,e,n,...t)},p.fn[e].trigger=function(...e){return p.fn.fire.call(this,...e)}):console.warn(e+" already exists")}),t.forEach(e=>{l[e]=e,null==p.fn[e]?p.fn[e]=function(n){return null==n?p.fn.attr.call(this,e):(p.fn.attr.call(this,e,n),this)}:console.warn(e+" already exists")}),r={opler(e,n){if(null!=e.init){if(null==(n=e.init.call(n,n,e)))return;delete e.init}for(let t in l)null!=e[t]&&(n.attr(t,e[t]),delete e[t]);null!=e.src&&"img"===n.tag&&(n.attr("src",e.src),delete e.src),null!=e.attrs&&(n.attr(e.attrs),delete e.attrs),null!=e.text&&(n.html(e.text),delete e.text),null!=(e.name&&e.parent)&&(e.parent[e.name]=n,delete e.name),null!=e.parent&&null==n.parent&&(n.appendTo(e.parent),delete e.parent);for(let t in e)"returnEl"!==t&&null!=e[t]&&p.type(e[t],"array")&&n.on(t,...e[t]);return this},handleChildren(e,n){let t,l;n.forEach(n=>{if(t=p.type(n),"function"!==t)throw new TypeError("Not a function.");if(l=n.call(e,e),null==l||!(l instanceof p))throw new TypeError("Return must be a child and instance of p");null==l.parent&&l.appendTo(e)})},handleChildify(e,n){let t,l;if(t=e.tag||e.el,t=`${t.startsWith("<")?"":"<"}${t}${t.endsWith(">")?"":">"}`,l=null!=n?n.create(t,"child"):p(t),null!=e.attrs&&l.attr(e.attrs),null!=(e.text||e.html)&&l.html(e.text||e.html),null!=e.events&&p.type(e.events,"object"))for(let n in e.events)l.on(n,...e.events[n]);return e.children&&l.childify(e.children),l}},p._define=function(){let e,n,t,l;if(t=[].slice.call(arguments),e=t[0],n=t[1],null==e)throw new ReferenceError("Arg #1 must be defined.");if(!p.type(e,"object"))throw new ReferenceError("Arg #1 is not an object");if(l={},null==e.onlyDefineIn&&(e.onlyDefineIn=!1),!e.onlyDefineIn&&null!=e.defineIn)throw new Error("Conflicting arguments, 'defineIn' can't be defined if 'onlyDefineIn' is false");if(e.onlyDefineIn||(null==p[n]&&(p[n]=function(){let e,l,i,a,o=[].slice.call(arguments);if(p.type(o[0],"array")&&p.type(o[0][0][0],"object"))for(let e=0,t=o[0].length;e<t;e++){let t=o[0][e];this[n](...t)}return i=`<${n}>`,e=t[0],l=o.slice(1),a=p(i),r.opler(e,a).handleChildren(a,l),a}),null==p.fn[n]&&(p.fn[n]=function(){let e,t,l,i,a=[].slice.call(arguments);if(p.type(a[0],"array")&&p.type(a[0][0][0],"object"))for(let e=0,t=a[0].length;e<t;e++){let t=a[0][e];this[n](...t)}return l=`<${n}>`,e=a[0],t=a.slice(1),i=this.create(l,"child"),e.parent=null!=e.parent?e.parent:this,r.opler(e,i).handleChildren(i,t),null!=e.returnEl&&e.returnEl?n:this})),p.type(t[3],"number"))return p.define(...t)},p.define=function(){let e=[].slice.call(arguments);if(p.type(e[1],"array")){let n;return n=0,p.define(e[0],e[1][n],e[1],n),n+=1,this}if(p.type(e[3],"number")){if(e[3]>=e[2].length)return this;let n,t;return[t,n]=e.slice(-2),n+=1,void p._define(e[0],t[n],t,n)}},p.define.isDefined=function(e){return null!=p[e]&&null!=p.fn[e]},p.define({},n),p.fn.childify=function(e){return e.forEach(e=>{r.handleChildify(e,this)}),this},p.childify=function(e){let n;return n=e.map(e=>r.handleChildify(e)),n.length>1?n:n.pop()},p.fn.eqto=function(e,n){switch(n=p.inst(n),e){case"this":return this.el===n;case"parent":return this.parent===n;default:return console.warn(`Unknown type: ${e}\nResolving to ${this}`),this.el===n}}}();
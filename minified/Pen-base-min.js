!function(t,e){var n,i,s,r,l,o,h;({log:log,error:error,dir:dir}=console),({body:s,head:head}=e),r=(t=>e.createElement(t)),n=(t=>e.querySelector(t)),i=(t=>e.querySelectorAll(t)),h=function(){var t,e,n,i,s,r;for(t={},e=n=0,i=(r="Boolean Number String Function Array Date RegExp Undefined Null Error Symbol Promise".split(/\s+/gi)).length;n<i;e=++n)s=r[e],t[`[object ${s}]`]=s.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),l=function(t){return null!==t&&void 0!==t},o=function(t,i=!1,a=s){var c,u;if(u=(t=>{var i,s;this.attributes={};this.style={};this.events={};this.text=void 0;s=/<([^\n]*?)>/gi;"string"===h(t)?!0===s.test(t)?(t=t.replace(/<|>/gi,""),i=r(t)):i=n(t):i=t;this.element=this.el=i;this.tag=i.tagName.toLowerCase();"template"===this.tag?(this.content=i.content,this.children=i.content.children,o.fn.clone=function(t=!1){return e.importNode(this.el.content,t)}):this.children=t.children;this.Id=i.getAttribute("id");this.Class=i.getAttribute("class");this.Parent=l(i.parentNode)?i.parentNode:"no parent";this.localName=this.tag+(null!=this.Id?`#${this.Id}`:"")+(null!=this.Class?`.${this.Class}`:"");return i}),!(this instanceof o))return new o(t,i,a);if(t instanceof Document)this.element=this.el=t,this.events={},this.body=t.body,this.head=t.head,o.fn.ready=function(t,e){return this.on("DOMContentLoaded",t,e),this};else if(t instanceof o)for(c in t)this[c]=t[c];else u(t);!0===i&&o(a).append(t)},o.select=o.$=((t,e=!1)=>!0===e?o(n(t)):n(t)),o.selectAll=o.$$=(t=>i(t)),o.fn=o.prototype={constructor:o},o.prototype.initLocalName=function(){return this.tag,null!=this.Id&&`#${this.Id}`,null!=this.Class&&`.${this.Class}`,this},o.prototype.handleObject=function(t,e){var n;for(n in t)e(n,this,t);return this},o.prototype.selfInstance=function(t,e){return t instanceof o&&e(t,this),this},o.prototype.html=function(t,e){var n,i,s;switch(null!=e?(n=null!=e.app&&e.app,s=null!=e.parse&&e.parse):(n=!1,s=!1),i=(e=>{this.text=t;return l(t)?!0===n?(this.element[e]+=t,this):(this.element[e]=t,this):this.element[e]}),this.tag){case"input":case"option":case"textarea":return i("value");case"template":if("object"!==h(t))throw new Error("parameter 1 must be an element/object");return this.element.content.appendChild(t),this;default:return i(!1===s?"textContent":"innerHTML")}},o.prototype.attr=function(t,e){return null!=t?"object"===h(t)?(null!=t.id&&(this.Id=t.id),null!=t.class&&(this.Class=t.class),this.handleObject(t,function(e,n){return n.attributes[e]=t[e],n.element.setAttribute(e,t[e]),n})):null!=e?("id"===t&&(this.Id=e),"class"===t&&(this.Class=e),this.element.setAttribute(t,e),this.initLocalName(),this):(this.initLocalName(),this.element.getAttribute(t)):this.attributes},o.prototype.css=function(t,e){return null!=t?"object"===h(t)?this.handleObject(t,function(e,n){var i;if("object"===h(t[e]))for(i in t[e])n.style[e+"-"+i]=t[e][i],n.element.style[e+"-"+i]=t[e][i];else n.style[e]=t[e],n.element.style[e]=t[e];return n}):null!=e?(this.style[t]=e,this.element.style[t]=e,this):this.element.style[t]:this.style},o.prototype.on=function(t,e,n){var i;return this.events[t]={},i=((t,e,n)=>{this.events[t].capture=n;null!=this.element.addEventListener?this.element.addEventListener(t,e,n):null!=this.element.attachEvent?this.element.attachEvent(t,e):this.element[`on${t}`]=e}),this.events[t].fn=e,i(t,e,n),this},o.prototype.off=function(t,e){return function(t,e=this.events[t].fn){this.element.removeEventListener?this.element.removeEventListener(t,e):this.element.detachEvent?this.element.detachEvent(t,e):this.element[`on${t}`]=void 0,delete this.events[t]}(t,e)},o.prototype.is=function(t){return this.tag===t},o.prototype.append=function(...t){var e,n,i,s;for(n=i=0,s=t.length;i<s;n=++i)(e=t[n])instanceof o&&(e.Parent=this.element),"template"===this.tag?this.element.content.appendChild(e instanceof o?e.el:e):this.element.appendChild(e instanceof o?e.el:e);return this},o.prototype.appendTo=function(t){return this.Parent=t instanceof o?t.el:t,o(t).append(this.element),this},o.prototype.remove=function(){var t;if("no parent"!==this.Parent)this.Parent.removeChild(this.element),this.Parent="no parent";else{if(null==this.element.parentNode)throw t=new Error(`There's no parent to remove this (${this.localName}) from`),t.name="Pen-remove",t;this.element.parentNode.removeChild(this.element),this.Parent="no parent"}return this},o.prototype.select=o.prototype.$=function(t,e=!1){return"template"===this.tag?!0===e?o(this.element.content.querySelector(t)):this.element.content.querySelector(t):!0===e?o(this.element.querySelector(t)):this.element.querySelector(t)},o.prototype.selectAll=o.prototype.$$=function(t){return"template"===this.tag?this.element.content.querySelectorAll(t):this.element.querySelectorAll(t)},o.prototype.create=o.prototype.createElement=function(t,e="return child"){var n,i,s,r,l,h;if(t=`<${t}>`,t=o(t),this.append(t),e.startsWith("return")){if("parent"===(n=e.split(/\s+/gi).slice(1)[0].toLowerCase()))return this;if("child"===n)for(s=r=0,l=(h=this.children).length;r<l;s=++r)if((i=h[s])===t.element)return i=o(i)}},t.pen=o}(window,document);
!function(t,e){var n,i,r,s,o,l,h;({log:log,error:error,dir:dir}=console),({body:r,head:head}=e),s=(t=>e.createElement(t)),n=(t=>e.querySelector(t)),i=(t=>e.querySelectorAll(t)),h=function(){var t,e,n,i,r,s;for(t={},e=n=0,i=(s="Boolean Number String Function Array Date RegExp Undefined Null Error Symbol Promise".split(/\s+/gi)).length;n<i;e=++n)r=s[e],t[`[object ${r}]`]=r.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),o=function(t){return null!==t&&void 0!==t},l=function(t,i=!1,a=r){var c,u;if(u=(t=>{var i,r,a,c,u,p,f,m,d,y;this.attributes={};this.style={};this.events={};this.text=void 0;y=/<([^\n]*?)>/gi;i=/([^\n\ ]*?)=['"]([^\n]*?)['"]/gi;if("string"===h(t))if(!0===y.test(t)){if(t=t.replace(/<|>/gi,""),!0===(d=i.test(t))&&(m=function(){var e,n,r,s,o,l;for(l=[],n=r=0,s=(e=t.match(i)).length;r<s;n=++r)o=(o=e[n]).trim(),o=JSON.parse(o.replace(i,function(...t){var e;return e={},e[t[1]]=t[2],JSON.stringify(e)})),l.push(o);return l}(),t=t.replace(i,""),t=t.trim()),r=s(t),!0===d)for(a=c=0,u=m.length;c<u;a=++c){f=m[a];for(p in f)r.setAttribute(p,f[p]),this.attributes[p]=f[p]}}else r=n(t);else r=t;this.element=this.el=r;this.tag=r.tagName.toLowerCase();"template"===this.tag?(this.content=r.content,this.children=r.content.children,l.fn.clone=function(t=!1){return e.importNode(this.el.content,t)}):this.children=t.children;this.Id=r.getAttribute("id");this.Class=r.getAttribute("class");this.Parent=o(r.parentNode)?r.parentNode:"no parent";this.localName=this.tag+(null!=this.Id?`#${this.Id}`:"")+(null!=this.Class?`.${this.Class}`:"");return r}),!(this instanceof l))return new l(t,i,a);if(t instanceof Document)this.element=this.el=t,this.events={},this.body=t.body,this.head=t.head,l.fn.ready=function(t,e){return this.on("DOMContentLoaded",t,e),this};else if(t instanceof l)for(c in t)this[c]=t[c];else u(t);!0===i&&l(a).append(t)},l.select=l.$=((t,e=!1)=>!0===e?l(n(t)):n(t)),l.selectAll=l.$$=(t=>i(t)),l.fn=l.prototype={constructor:l},l.prototype.initLocalName=function(){return this.tag,null!=this.Id&&`#${this.Id}`,null!=this.Class&&`.${this.Class}`,this},l.prototype.handleObject=function(t,e){var n;for(n in t)e(n,this,t);return this},l.prototype.selfInstance=function(t,e){return t instanceof l&&e(t,this),this},l.prototype.html=function(t,e){var n,i,r,s;switch(null!=e?(n=null!=e.app&&e.app,s=null!=e.parse&&e.parse):(n=!1,s=!1),i=(e=>{this.text=t;return o(t)?!0===n?(this.element[e]+=t,this):(this.element[e]=t,this):this.element[e]}),this.tag){case"input":case"option":case"textarea":return i("value");case"template":if("object"!==h(t))throw r=new Error("parameter 1 must be an element/object"),r.name="Pen-html-error",r;return this.element.content.appendChild(t),this;default:return i(!1===s?"textContent":"innerHTML")}},l.prototype.attr=function(t,e){return null!=t?"object"===h(t)?(null!=t.id&&(this.Id=t.id),null!=t.class&&(this.Class=t.class),this.handleObject(t,function(e,n){return n.attributes[e]=t[e],n.element.setAttribute(e,t[e]),n})):null!=e?("id"===t&&(this.Id=e),"class"===t&&(this.Class=e),this.element.setAttribute(t,e),this.initLocalName(),this):(this.initLocalName(),this.element.getAttribute(t)):this.attributes},l.prototype.css=function(t,e){return null!=t?"object"===h(t)?this.handleObject(t,function(e,n){var i;if("object"===h(t[e]))for(i in t[e])n.style[e+"-"+i]=t[e][i],n.element.style[e+"-"+i]=t[e][i];else n.style[e]=t[e],n.element.style[e]=t[e];return n}):null!=e?(this.style[t]=e,this.element.style[t]=e,this):this.element.style[t]:this.style},l.prototype.on=function(t,e,n){var i;return this.events[t]={},i=((t,e,n)=>{this.events[t].capture=n;null!=this.element.addEventListener?this.element.addEventListener(t,e,n):null!=this.element.attachEvent?this.element.attachEvent(t,e):this.element[`on${t}`]=e}),this.events[t].fn=e,i(t,e,n),this},l.prototype.off=function(t,e){return function(t,e=this.events[t].fn){this.element.removeEventListener?this.element.removeEventListener(t,e):this.element.detachEvent?this.element.detachEvent(t,e):this.element[`on${t}`]=void 0,delete this.events[t]}(t,e)},l.prototype.is=function(t){return this.tag===t},l.prototype.append=function(...t){var e,n,i,r;for(n=i=0,r=t.length;i<r;n=++i)(e=t[n])instanceof l&&(e.Parent=this.element),"template"===this.tag?this.element.content.appendChild(e instanceof l?e.el:e):this.element.appendChild(e instanceof l?e.el:e);return this},l.prototype.appendTo=function(t){return this.Parent=t instanceof l?t.el:t,l(t).append(this.element),this},l.prototype.remove=function(){var t;if("no parent"!==this.Parent)this.Parent.removeChild(this.element),this.Parent="no parent";else{if(null==this.element.parentNode)throw t=new Error(`There's no parent to remove this (${this.localName}) from`),t.name="Pen-remove-error",t;this.element.parentNode.removeChild(this.element),this.Parent="no parent"}return this},l.prototype.select=l.prototype.$=function(t,e=!1){return"template"===this.tag?!0===e?l(this.element.content.querySelector(t)):this.element.content.querySelector(t):!0===e?l(this.element.querySelector(t)):this.element.querySelector(t)},l.prototype.selectAll=l.prototype.$$=function(t){return"template"===this.tag?this.element.content.querySelectorAll(t):this.element.querySelectorAll(t)},l.prototype.create=l.prototype.createElement=function(t,e="return child"){var n,i,r,s,o,h;if(t=`<${t}>`,t=l(t),this.append(t),e.startsWith("return")){if("parent"===(n=e.split(/\s+/gi).slice(1)[0].toLowerCase()))return this;if("child"===n)for(r=s=0,o=(h=this.children).length;s<o;r=++s)if((i=h[r])===t.element)return i=l(i)}},l.prototype.insertParentBefore=function(t,e){var n;return n=this.el instanceof l?this.element.el:this.element,e instanceof l&&(e=e.el),t.insertBefore(n,e),this},l.prototype.toggle=function(...t){var e,n,i,r;for(n=i=0,r=t.length;i<r;n=++i)e=t[n],this.element.classList.toggle(e);return this},function(){var t;t="id class href src contentEditable charset title rows cols".split(/\s+/),"click keydown keyup keypress mousedown mouseup mouseover mousepress mouseout contextmenu dblclick".split(/\s+/).forEach(function(t){return l.fn[t]=function(...e){return o(this.events[t])?this.off(t,[...e]):this.on(t,[...e])}}),t.forEach(function(t){return l.fn[t]=function(e){return o(e)?this.attr(t,e):this.attr(t)}})}(),t.pen=l,t.exists=o,t.type=h}(window,document);
!function(t,e){var n,i,s;s=function(){var t,e,n,i,s,r;for(t={},e=n=0,i=(r="Boolean Number String Function Array Date RegExp Undefined Null Error Symbol Promise".split(/\s+/gi)).length;n<i;e=++n)s=r[e],t[`[object ${s}]`]=s.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),n=function(t){return null!==t&&void 0!==t},i=function(t,r=!1,o=e.body){var l,h;if(h=(t=>{var r,o,l,h,a,u,c,p,f,m;this.attributes={};this.style={};this.events={};this.text=void 0;m=/<([^\n]*?)>/gi;r=/([^\n\ ]*?)=['"]([^\n]*?)['"]/gi;if("string"===s(t))if(!0===m.test(t)){if(t=t.replace(/<|>/gi,""),!0===(f=r.test(t))&&(p=function(){var e,n,i,s,o,l;for(l=[],n=i=0,s=(e=t.match(r)).length;i<s;n=++i)o=(o=e[n]).trim(),o=JSON.parse(o.replace(r,function(...t){var e;return e={},e[t[1]]=t[2],JSON.stringify(e)})),l.push(o);return l}(),t=t.replace(r,""),t=t.trim()),o=e.createElement(t),!0===f)for(l=h=0,a=p.length;h<a;l=++h){c=p[l];for(u in c)o.setAttribute(u,c[u]),this.attributes[u]=c[u]}}else o=e.querySelector(t);else o=t;this.element=this.el=o;this.tag=o.tagName.toLowerCase();"template"===this.tag?(this.content=o.content,this.children=o.content.children,i.fn.clone=function(t=!1){return e.importNode(this.el.content,t)}):this.children=t.children;this.Id=o.getAttribute("id");this.Class=o.getAttribute("class");this.Parent=n(o.parentNode)?o.parentNode:"no parent";this.localName=this.tag+(null!=this.Id?`#${this.Id}`:"")+(null!=this.Class?`.${this.Class}`:"");return o}),!(this instanceof i))return new i(t,r,o);if(t instanceof Document)this.element=this.el=t,this.events={},this.body=t.body,this.head=t.head,i.fn.ready=function(t,e){return this.on("DOMContentLoaded",t,e),this};else if(t instanceof i)for(l in t)this[l]=t[l];else h(t);!0===r&&i(o).append(t)},i.fn=i.prototype={constructor:i},i.prototype.initLocalName=function(){return this.tag,null!=this.Id&&`#${this.Id}`,null!=this.Class&&`.${this.Class}`,this},i.prototype.handleObject=function(t,e){var n;for(n in t)e(n,this,t);return this},i.prototype.selfInstance=function(t,e){return t instanceof i&&e(t,this),this},i.prototype.html=function(t,e){var i,r,o;switch(i=null!=e.app&&e.app,o=null!=e.parse&&e.parse,r=(e=>{this.text=t;return n(t)?!0===i?(this.element[e]+=t,this):(this.element[e]=t,this):this.element[e]}),this.tag){case"input":case"option":case"textarea":return r("value");case"template":if("object"!==s(t))throw new Error("parameter 1 must be an element/object");return this.element.content.appendChild(t),this;default:return r(!1===o?"textContent":"innerHTML")}},i.prototype.attr=function(t,e){return null!=t?"object"===s(t)?(null!=t.id&&(this.Id=t.id),null!=t.class&&(this.Class=t.class),this.handleObject(t,function(e,n){return n.attributes[e]=t[e],n.element.setAttribute(e,t[e]),n})):null!=e?("id"===t&&(this.Id=e),"class"===t&&(this.Class=e),this.element.setAttribute(t,e),this.initLocalName(),this):(this.initLocalName(),this.element.getAttribute(t)):this.attributes},i.prototype.css=function(t,e){return null!=t?"object"===s(t)?this.handleObject(t,function(e,n){return n.style[e]=t[e],n.element.style[e]=t[e],n}):null!=e?(this.style[t]=e,this.element.style[t]=e,this):this.element.style[t]:this.style},i.prototype.on=function(t,e,n){var i;return this.events[t]={},i=((t,e,n)=>{this.events[t].capture=n;null!=this.element.addEventListener?this.element.addEventListener(t,e,n):null!=this.element.attachEvent?this.element.attachEvent(t,e):this.element[`on${t}`]=e}),this.events[t].fn=e,i(t,e,n),this},i.prototype.off=function(t,e){return function(t,e=this.events[t].fn){this.element.removeEventListener?this.element.removeEventListener(t,e):this.element.detachEvent?this.element.detachEvent(t,e):this.element[`on${t}`]=void 0,delete this.events[t]}(t,e)},i.prototype.is=function(t){return this.tag===t},i.prototype.append=function(...t){var e,n,s,r;for(n=s=0,r=t.length;s<r;n=++s)(e=t[n])instanceof i&&(e.Parent=this.element),"template"===this.tag?this.element.content.appendChild(e instanceof i?e.el:e):this.element.appendChild(e instanceof i?e.el:e);return this},i.prototype.appendTo=function(t){return this.Parent=t instanceof i?t.el:t,i(t).append(this.element),this},i.prototype.remove=function(){if("no parent"===this.Parent)throw new Error(`Pen-remove: There's no parent to remove this (${this.localName}) from`);return this.Parent.removeChild(this.element),this.Parent=void 0,this},i.prototype.select=i.prototype.$=function(t){return"template"===this.tag?this.element.content.querySelector(t):this.element.querySelector(t)},i.prototype.selectAll=i.prototype.$$=function(t){return"template"===this.tag?this.element.content.querySelectorAll(t):this.element.querySelectorAll(t)},i.prototype.create=i.prototype.createElement=function(t,e="return child"){var n,s,r,o,l,h;if(t=`<${t}>`,t=i(t),this.append(t),e.startsWith("return")){if("parent"===(n=e.split(/\s+/gi).slice(1)[0].toLowerCase()))return this;if("child"===n)for(r=o=0,l=(h=this.children).length;o<l;r=++o)if((s=h[r])===t.element)return s=i(s)}},i.prototype.insertParentBefore=function(t,e){var n;return n=this.el instanceof i?this.element.el:this.element,e instanceof i&&(e=e.el),t.insertBefore(n,e),this},i.prototype.toggle=function(...t){var e,n,i,s;for(n=i=0,s=t.length;i<s;n=++i)e=t[n],this.element.classList.toggle(e);return this},function(){var t;t="id class href src contentEditable charset title rows cols".split(/\s+/),"click keydown keyup keypress mousedown mouseup mouseover mousepress mouseout contextmenu dblclick".split(/\s+/).forEach(function(t){return i.fn[t]=function(...e){return n(this.events[t])?this.off(t,[...e]):this.on(t,[...e])}}),t.forEach(function(t){return i.fn[t]=function(e){return n(e)?this.attr(t,e):this.attr(t)}})}(),"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports={pen:i,exists:n,type:s}:(t.pen=i,t.exists=n,t.type=s)}(window,document);